<!-- templates/index.html -->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Redback Baseball Risk Assessment</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
</head>
<body>
  <div class="container text-center">
    <div class="header-title">Redback Baseball Risk Assessment</div>

    <div class="summary-box text-start">
      <h5 class="text-danger">About the Project</h5>
      <p>
        This platform leverages pose estimation and joint angle analysis to detect potential injury risks in baseball players.
        Upload a video of a player to receive real-time feedback and overlayed visual insights into areas such as shoulder, elbow, or knee stress.
        Our model classifies risk based on biomechanical movement data and delivers results through an intuitive and visual interface.
      </p>
    </div>

    <div class="upload-section text-start">
      <form method="POST" enctype="multipart/form-data" onsubmit="showSpinner()">
        <label for="video" class="form-label">üé• Upload a Baseball Video for Analysis:</label>
        <input class="form-control mb-3" type="file" name="video" id="video" required>
        <button type="submit" class="btn btn-primary w-100">Analyze Video</button>
      </form>

      <div id="loadingSpinner" class="spinner text-center">
        <div class="spinner-border text-danger" role="status"></div>
        <p class="mt-2">Analyzing video... hang tight! ‚è≥</p>
      </div>

      {% if processed_video %}
        <div class="mt-4 text-center">
          <p>‚úÖ Your video is ready!</p>
          <a href="{{ url_for('static', filename='processed/' + processed_video) }}" class="btn btn-success" download>
            Download Analyzed Video
          </a>
        </div>
      {% endif %}
    </div>
  </div>

  <script>
    function showSpinner() {
      document.getElementById("loadingSpinner").style.display = "block";
    }
  </script>
</body>
</html>
